###############################################################
# Akka Configuration
###############################################################
akka {
  # Log level for Akka system: ERROR, WARNING, INFO, DEBUG
  loglevel = ${?AKKA_LOGLEVEL}
  loglevel = "INFO"
}


###############################################################
# Kafka Consumer/Producer Configuration
###############################################################
kafka {
  # Kafka bootstrap servers (override with env KAFKA_BOOTSTRAP_SERVERS in Docker)
  bootstrap-servers = ${?KAFKA_BOOTSTRAP_SERVERS}
  bootstrap-servers = "localhost:9092"

  # Consumer group ID for event processing (override with KAFKA_CONSUMER_GROUP_ID)
  group-id = ${?KAFKA_CONSUMER_GROUP_ID}
  group-id = "eventManagementGroup"

  # Kafka topic for event messages (override with KAFKA_CONSUMER_TOPIC)
  topic = ${?KAFKA_CONSUMER_TOPIC}
  topic = "eventManagement"

  # From where to start reading messages if no offset exists
  # "latest" → only new messages
  # "earliest" → read from beginning
  auto-offset-reset = ${?KAFKA_AUTO_OFFSET_RESET}
  auto-offset-reset = "latest"

  # Optional consumer tuning (overridable)
  fetch-min-bytes = ${?KAFKA_CONSUMER_FETCH_MIN_BYTES}
  fetch-min-bytes = 1

  fetch-max-wait-ms = ${?KAFKA_CONSUMER_FETCH_MAX_WAIT_MS}
  fetch-max-wait-ms = 500
}


###############################################################
# Database (Slick + MySQL) Configuration
###############################################################
slick.dbs.default.profile = "slick.jdbc.MySQLProfile$"

# JDBC driver for MySQL
slick.dbs.default.db.driver = "com.mysql.cj.jdbc.Driver"

# Connection URL (override with DB_URL env)
slick.dbs.default.db.url = ${?DB_URL}

# Credentials for database connection (override with DB_USER / DB_PASSWORD envs)
slick.dbs.default.db.user = ${?DB_USER}

slick.dbs.default.db.password = ${?DB_PASSWORD}

# Automatically apply Play evolutions (DB migrations)
play.evolutions.db.default.autoApply = ${?PLAY_EVOLUTIONS_AUTOAPPLY}
play.evolutions.db.default.autoApply = true


###############################################################
# Mail Server (SMTP) Configuration
###############################################################
mail {
  # SMTP host (override with MAIL_HOST)
  host = ${?MAIL_HOST}
  host = "smtp.gmail.com"

  # SMTP port (override with MAIL_PORT)
  port = ${?MAIL_PORT}
  port = 587

  # Gmail username to send emails from (override with MAIL_USER)
  user = ${?MAIL_USER}
  user = "vaddisanjeevkumar9676@gmail.com"

  # App password generated from Google "App Passwords" (override with MAIL_PASSWORD)
  # ⚠️ Do NOT commit real passwords to source control.
  password = ${?MAIL_PASSWORD}
  password = "sglv qvjd aaub metn"

  # Whether to use TLS encryption (override with MAIL_TLS)
  tls = ${?MAIL_TLS}
  tls = true

  # Optional: connection / timeout tuning
  connection-timeout-ms = ${?MAIL_CONNECTION_TIMEOUT_MS}
  connection-timeout-ms = 30000
}
